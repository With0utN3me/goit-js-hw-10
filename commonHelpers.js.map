{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst startButton = document.querySelector(`button[type=\"button\"]`);\nconst daysHTML = document.querySelector(`span[data-days]`);\nconst hoursHTML = document.querySelector(`span[data-hours]`);\nconst minutesHTML = document.querySelector(`span[data-minutes]`);\nconst secondsHTML = document.querySelector(`span[data-seconds]`);\nconst dataTimeInput = document.querySelector(\"#datetime-picker\");\nfunction addLeadingZero(value){\n    return String(value).padStart(2, '0');\n}\nlet timerInterval = null;\nstartButton.disabled = true;\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    clickOpens: true,\n    onClose(selectedDates) {\n        if(Date.now() < selectedDates[0].getTime()){\n            console.log(selectedDates[0]);\n            userSelectedDate = selectedDates[0].getTime();\n            startButton.disabled = false;\n        }\n        else{\n            startButton.disabled = true;\n            iziToast.error({\n                message: \"Please choose a date in the future\",\n                position: `topRight`,\n                progressBar: false,\n            });\n        }\n    },\n};\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n    const fp = flatpickr(\"#datetime-picker\", options);\n    let userSelectedDate;\n    startButton.addEventListener(\"click\", () => {\n        startButton.disabled = true;\n        dataTimeInput.disabled = true;\n\n\n\n        timerInterval = setInterval (()=>{\n            if(userSelectedDate < Date.now()){\n                clearInterval(timerInterval);\n                return;\n            }\n            const timeValues = convertMs(userSelectedDate - Date.now());\n            daysHTML.innerHTML = addLeadingZero(timeValues.days);\n            hoursHTML.innerHTML = addLeadingZero(timeValues.hours);\n            minutesHTML.innerHTML = addLeadingZero(timeValues.minutes);\n            secondsHTML.innerHTML = addLeadingZero(timeValues.seconds);\n        }, 1000)\n\n    })\n"],"names":["startButton","daysHTML","hoursHTML","minutesHTML","secondsHTML","dataTimeInput","addLeadingZero","value","timerInterval","options","selectedDates","userSelectedDate","iziToast","convertMs","ms","days","hours","minutes","seconds","flatpickr","timeValues"],"mappings":"gJAQA,MAAMA,EAAc,SAAS,cAAc,uBAAuB,EAC5DC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAgB,SAAS,cAAc,kBAAkB,EAC/D,SAASC,EAAeC,EAAM,CAC1B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,IAAIC,EAAgB,KACpBR,EAAY,SAAW,GACvB,MAAMS,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,WAAY,GACZ,QAAQC,EAAe,CAChB,KAAK,IAAK,EAAGA,EAAc,GAAG,WAC7B,QAAQ,IAAIA,EAAc,EAAE,EAC5BC,EAAmBD,EAAc,GAAG,QAAO,EAC3CV,EAAY,SAAW,KAGvBA,EAAY,SAAW,GACvBY,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,WACV,YAAa,EAC7B,CAAa,EAER,CACL,EACA,SAASC,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CACeC,EAAU,mBAAoBV,CAAO,EAChD,IAAIE,EACJX,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvBK,EAAc,SAAW,GAIzBG,EAAgB,YAAa,IAAI,CAC7B,GAAGG,EAAmB,KAAK,MAAM,CAC7B,cAAcH,CAAa,EAC3B,MACH,CACD,MAAMY,EAAaP,EAAUF,EAAmB,KAAK,IAAK,CAAA,EAC1DV,EAAS,UAAYK,EAAec,EAAW,IAAI,EACnDlB,EAAU,UAAYI,EAAec,EAAW,KAAK,EACrDjB,EAAY,UAAYG,EAAec,EAAW,OAAO,EACzDhB,EAAY,UAAYE,EAAec,EAAW,OAAO,CAC5D,EAAE,GAAI,CAEV,CAAA"}